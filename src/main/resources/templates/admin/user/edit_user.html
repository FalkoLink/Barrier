<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace="fragment/head::head(pageTitle='Редактировать')">
<body class="admin-page">

<div th:replace="fragment/navbar::navbar"></div>
<div style="display: flex; flex: 1; width: 100%;">
    <div th:replace="fragment/sidebar::sidebar(currentPage='users')"></div>

    <div class="main">
        <section id="users" class="active">
            <h1>Редактировать</h1>
            <a th:href="@{/admin/users}"><-Назад</a>
            <form th:action="@{'/admin/users/edit/' + ${user.id}}" th:object="${user}" method="post">
                <label for="firstName">Имя: </label>
                <input type="text" id="firstName" name="firstName" th:placeholder="*{firstName}" />
                <div th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" style="color:red;"></div>
                <br/>

                <label for="lastName">Фамилия:</label>
                <input type="text" id="lastName" name="lastName" th:placeholder="*{lastName}" />
                <div th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" style="color:red;"></div>
                <br/>

                <label for="phone">Телефон:</label>
                <input type="text" id="phone" name="phone" th:placeholder="*{phone}" />
                <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" style="color:red;"></div>
                <br/>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" th:placeholder="*{email}" />
                <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" style="color:red;"></div>
                <br/>

<!--                <label for="password">Пароль:</label>-->
<!--                <input type="password" id="password" th:field="*{password}" />-->
<!--                <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" style="color:red;"></div>-->
<!--                <br/>-->

                <label for="role">Роль:</label>
                <select id="role" th:field="*{role}" required>
                    <option th:each="r : ${roles}" name="role" th:value="${r.id}" th:text="${r.name}"></option>
                </select>
                <br/>

                <p>Статус: <b th:text="${user.expired ? 'Не Активен' : 'Активен'}"></b></p>
                <br/>

                <button type="submit">Сохранить</button>
            </form>
        </section>
    </div>
</div>

</body>
</html>
